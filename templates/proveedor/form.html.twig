

{% extends 'viewer.html.twig' %}

{% block viewer_content %}

<!-- Pagina que usaremos para modificar -->
<style>
    .form-container {
        background-color: #fff;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        padding: 2rem;
        max-width: 700px;
        margin: 0 auto;
    }

    .form-container h2 {
        color: #0d6efd;
        text-align: center;
        margin-bottom: 1.5rem;
        font-weight: 600;
    }

    label {
        font-weight: 500;
        margin-bottom: 0.3rem;
        display: block;
        color: #333;
    }

    input, select {
        width: 100%;
        border: 1px solid #ced4da;
        border-radius: 8px;
        padding: 0.6rem 0.75rem;
        margin-bottom: 1rem;
        font-size: 0.95rem;
    }

    .form-check {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
    }

    .form-check input {
        width: auto;
        margin-right: 0.5rem;
    }

    .btn-container {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-top: 1.5rem;
    }

    button, .btn-cancel {
        border: none;
        border-radius: 8px;
        padding: 10px 20px;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.2s ease-in-out;
    }

    button {
        background-color: #198754;
        color: #fff;
    }
    button:hover {
        background-color: #157347;
    }

    .btn-cancel {
        background-color: #dc3545;
        color: #fff;
        text-decoration: none;
        display: inline-block;
    }
    .btn-cancel:hover {
        background-color: #bb2d3b;
    }
</style>

<div class="form-container">
    <h2>{{ titulo }}</h2>

    <form method="post">
        <label for="cif">CIF*</label>
        <input type="text" id="cif" name="cif" value="{{ proveedor.cif ?? '' }}" required>

        <label for="nombre">Nombre*</label>
        <input type="text" id="nombre" name="nombre" value="{{ proveedor.nombre ?? '' }}" required>

        <label for="correo">Correo electrónico*</label>
        <input type="email" id="correo" name="correo" value="{{ proveedor.correoElectronico ?? '' }}">

        <label for="telefono">Teléfono*</label>
        <input type="text" id="telefono" name="telefono" value="{{ proveedor.telefono ?? '' }}">

        <label for="telefono2">Teléfono 2</label>
        <input type="text" id="telefono2" name="telefono2" value="{{ proveedor.telefono2 ?? '' }}">

        <label for="tipo_proveedor">Tipo de proveedor*</label>
        <select id="tipo_proveedor" name="tipo_proveedor" required>
            <option value="">Selecciona un tipo</option>
            <option value="Hotel" {% if proveedor.tipoProveedor == 'Hotel' %}selected{% endif %}>Hotel</option>
            <option value="Crucero" {% if proveedor.tipoProveedor == 'Crucero' %}selected{% endif %}>Crucero</option>
            <option value="Estación de esquí" {% if proveedor.tipoProveedor == 'Estación de esquí' %}selected{% endif %}>Estación de esquí</option>
            <option value="Parque temático" {% if proveedor.tipoProveedor == 'Parque temático' %}selected{% endif %}>Parque temático</option>
        </select>

<!-- Por defecto al crear un proveedor estara activo (el check vendra marcado y se transmitira as en la BD), si estamos editando
y estaba activo quedara activo y lo mismo con inactivo (salvo que le indiquemos lo contrario) -->
       <div class="form-check">
    <input
        type="checkbox"
        id="activo"
        name="activo"
        class="form-check-input"
        {% if (proveedor is defined and proveedor.activo) or (accion is defined and accion == 'nuevo') %}
            checked
        {% endif %}
    >
    <label class="form-check-label" for="activo">Activo</label>
</div>


        <div class="btn-container">
            <button type="submit">
                {% if accion == 'editar' %}
                     Guardar cambios
                {% else %}
                     Crear proveedor
                {% endif %}
            </button>
            <a href="{{ path('app_proveedores') }}" class="btn-cancel">Cancelar</a>
        </div>
    </form>
</div>
{% endblock %}
